(this["webpackJsonppop-ai-portal"]=this["webpackJsonppop-ai-portal"]||[]).push([[1],{452:function(e,t,n){e.exports=n(554)},529:function(e,t,n){},530:function(e,t,n){},552:function(e,t,n){e.exports=n.p+"static/media/bg_low.6ded5cc5.jpg"},553:function(e,t,n){e.exports=n.p+"static/media/bg_med.e136c6a1.png"},554:function(e,t,n){"use strict";n.r(t);n(453),n(463),n(146),n(147),n(148),n(149),n(150),n(151),n(152),n(153),n(154),n(155),n(156),n(157),n(158),n(159),n(160),n(241),n(243),n(244),n(245),n(246),n(247),n(248),n(250),n(251),n(163),n(253),n(254),n(95),n(255),n(256),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(272),n(273),n(274),n(275),n(164),n(80),n(276),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(165),n(294),n(295),n(296),n(298),n(300),n(301),n(302),n(303),n(304),n(305),n(307),n(308),n(310),n(311),n(312),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(108),n(330),n(331),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(173),n(351),n(352),n(109),n(353),n(354),n(355),n(356),n(93),n(357),n(358),n(361),n(362),n(363),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(372),n(373),n(374),n(375),n(376),n(377),n(378),n(379),n(380),n(381),n(382),n(383),n(384),n(387),n(388),n(389),n(390),n(391),n(392),n(393),n(394),n(395),n(396),n(397),n(398),n(399),n(400),n(401),n(402),n(403),n(404),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(415),n(416),n(417),n(418),n(419),n(122),n(421),n(474),n(475),n(476),n(477),n(478),n(479),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(481),n(482),n(483),n(484),n(485),n(486),n(487),n(488),n(489),n(490),n(491),n(492),n(493),n(494),n(495),n(496),n(498),n(499),n(500),n(501),n(502),n(503),n(504),n(505),n(506),n(507),n(508),n(213),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(509),n(510),n(511),n(513),n(236),n(237),n(238),n(514),n(515),n(516),n(517),n(518),n(519),n(520),n(422),n(145),n(423),n(424),n(425),n(427),n(178);!function(){if("function"===typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}();var r=n(1),a=n.n(r),o=n(123),c=n.n(o),i=n(445),s=(n(529),n(125)),d=n(126),u=n(442),l=n(441),p=n(557),O=(n(530),n(559)),A=n(61),S=n(129),D="en-US",_=Object(S.a)({},D,{login:"login"}),E=Object(A.a)({},_),m=function(e){var t=e.children,n=e.locale,o=void 0===n?o.english:n;return a.a.createElement(O.a,{locale:o,textComponent:r.Fragment,messages:E[o]},console.log(o,E),t)},L=[{path:"/",exact:!0,name:"Login"},{path:"/login",exact:!0,name:"Login Screen",component:a.a.lazy((function(){return n.e(0).then(n.bind(null,585))}))}],b=n(447);n(131);function I(){return JSON.parse(localStorage.getItem("AR-internal-user")||"{}")}var f,U=function(e){var t=e.component,n=Object(b.a)(e,["component"]);return a.a.createElement(p.b,Object.assign({},n,{render:function(e){var n=function(){var e=I();return e&&e.authdata?{Authorization:e.authdata}:{}}();return n&&n.Authorization?a.a.createElement(t,e):a.a.createElement(p.a,{to:{pathname:"/login"}})}}))},g=n(48),h=n(446),P=n(55),v=n(132),N=n(25),R=n.n(N),w=n(13),C=n(101),y=n.n(C),j=n(133),W=(f={basePath:"internal-app",login:"http://localhost:9000/login",files:{getAndroid:"https://redsmart.airasia.com/internal/download/redsmart.apk",getIOS:"https://redsmart.airasia.com/internal/download/manifest",uploadAndroid:"https://redsmart.airasia.com/internal/upload/redsmart.apk",uploadIOS:"https://redsmart.airasia.com/internal/upload/redsmart.ipa",uploadWebApp:"https://redsmart.airasia.com/internal/upload/build.zip"},pages:{download:"https://redsmart.airasia.com/internal-app/download",upload:"https://redsmart.airasia.com/internal-app/download",login:"https://redsmart.airasia.com/internal-app/login"}},Object(A.a)({intervals:{logout:3600},isProduction:!0,isDevelopment:!1},f)),F=Object(A.a)(Object(A.a)({},W),{},{isProduction:!0,isDevelopment:!1});var x=function(){var e=Object(j.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){if(t||n({message:"Something went wrong"}),t&&t.errors){var r=t.errors,a="";if(Array.isArray(r.msg))r.msg.forEach((function(e){var t=e.param?e.param+":":"";a+="".concat(t," ").concat(e.msg,", \n")}));else{var o=r.param?r.param+":":"";a=o+r.msg}n({message:a})}t&&e(t),null!==t&&void 0!==t||n({message:"Something went wrong"}),t.status>399&&n({message:t.statusText||"Something went wrong"}),e({})})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=new(function(){function e(){var t=this;Object(s.a)(this,e),this.isTokenExpiredError=function(e){return!(!e||!e.status||401!==e.status)},this.handleError=function(e){var n=e.response;return t.isTokenExpiredError(n)?(alert("Token Expired. Please login..."),localStorage.removeItem("token"),localStorage.setItem("AR-internal-user",JSON.stringify({})),se.dispatch({type:"LOGOUT"}),ie.push("/login"),Promise.reject(e)):x(n.data)},this.redirectTo=function(e,t){e.location=t},this.get=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{headers:{}};return t.service.get(e,n).then((function(e){return e.data}))},this.patch=function(e,n,r){return t.service.request({method:"PATCH",url:e,responseType:"json",data:n,headers:r}).then((function(e){return e.data}))},this.post=function(e,n,r){return t.service.request({method:"POST",url:e,responseType:"json",data:n,headers:r}).then((function(e){return e.data}))},this.put=function(e,n,r){return t.service.request({method:"PUT",url:e,responseType:"json",data:n,headers:r}).then((function(e){return e.data}))},this.delete=function(e,n,r){return t.service.request({method:"DELETE",url:e,responseType:"json",data:n,headers:r}).then((function(e){return e.data}))};var n=y.a.create({headers:{"Content-Type":"application/json"}});n.interceptors.request.use((function(e){if(!e.headers.Authorization){var t=I().token;t&&(e.headers.Authorization="Bearer ".concat(t))}return e}),(function(e){return Promise.reject(e)})),n.interceptors.response.use(this.handleSuccess,this.handleError),this.service=n}return Object(d.a)(e,[{key:"handleSuccess",value:function(e){return console.log(e),e}}]),e}()),k={DOWNLOAD_ANDROID_FAILURE:"DOWNLOAD_ANDROID_FAILURE",DOWNLOAD_ANDROID_SUCCESS:"DOWNLOAD_ANDROID_SUCCESS",DOWNLOAD_ANDROID_REQUEST:"DOWNLOAD_ANDROID_REQUEST",ASYNC_DOWNLOAD_ANDROID:"ASYNC_DOWNLOAD_ANDROID",DOWNLOAD_IOS_FAILURE:"DOWNLOAD_IOS_FAILURE",DOWNLOAD_IOS_SUCCESS:"DOWNLOAD_IOS_SUCCESS",DOWNLOAD_IOS_REQUEST:"DOWNLOAD_IOS_REQUEST",ASYNC_DOWNLOAD_IOS:"ASYNC_DOWNLOAD_IOS",UPLOAD_ANDROID_FAILURE:"UPLOAD_ANDROID_FAILURE",UPLOAD_ANDROID_SUCCESS:"UPLOAD_ANDROID_SUCCESS",UPLOAD_ANDROID_REQUEST:"UPLOAD_ANDROID_REQUEST",ASYNC_UPLOAD_ANDROID:"ASYNC_UPLOAD_ANDROID",UPLOAD_IOS_FAILURE:"UPLOAD_IOS_FAILURE",UPLOAD_IOS_SUCCESS:"UPLOAD_IOS_SUCCESS",UPLOAD_IOS_REQUEST:"UPLOAD_IOS_REQUEST",ASYNC_UPLOAD_IOS:"ASYNC_UPLOAD_IOS",UPLOAD_WEB_APP_FAILURE:"UPLOAD_WEB_APP_FAILURE",UPLOAD_WEB_APP_SUCCESS:"UPLOAD_WEB_APP_SUCCESS",UPLOAD_WEB_APP_REQUEST:"UPLOAD_WEB_APP_REQUEST",ASYNC_UPLOAD_WEB_APP:"ASYNC_UPLOAD_WEB_APP",RESET_DOCUMENT:"RESET_DOCUMENT"},Q=R.a.mark(M),B=R.a.mark(G),Y=R.a.mark(H),z=R.a.mark($),q=R.a.mark(K),J=R.a.mark(V);function M(e){var t,n,r,a,o,c,i;return R.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return a=function(e){return{type:k.UPLOAD_IOS_FAILURE,error:e}},r=function(e){return{type:k.UPLOAD_IOS_SUCCESS,payload:e}},n=function(){return{type:k.UPLOAD_IOS_REQUEST}},t=e.obj,s.next=6,Object(w.c)(n());case 6:return s.prev=6,o={"Content-Type":"multipart/form-data"},s.next=10,Object(w.b)(T.post,Oe.files.uploadIOS,t.data,o);case 10:return c=s.sent,s.next=13,Object(w.b)(x,c);case 13:return i=s.sent,s.next=16,Object(w.c)(r({data:i}));case 16:s.next=22;break;case 18:return s.prev=18,s.t0=s.catch(6),s.next=22,Object(w.c)(a(s.t0.message));case 22:case"end":return s.stop()}}),Q,null,[[6,18]])}function G(e){var t,n,r,a,o,c,i;return R.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return a=function(e){return{type:k.UPLOAD_ANDROID_FAILURE,error:e}},r=function(e){return{type:k.UPLOAD_ANDROID_SUCCESS,payload:e}},n=function(){return{type:k.UPLOAD_ANDROID_REQUEST}},t=e.obj,s.next=6,Object(w.c)(n());case 6:return s.prev=6,o={"Content-Type":"multipart/form-data"},s.next=10,Object(w.b)(T.post,Oe.files.uploadAndroid,t.data,o);case 10:return c=s.sent,s.next=13,Object(w.b)(x,c);case 13:return i=s.sent,s.next=16,Object(w.c)(r({data:i}));case 16:s.next=22;break;case 18:return s.prev=18,s.t0=s.catch(6),s.next=22,Object(w.c)(a(s.t0.message));case 22:case"end":return s.stop()}}),B,null,[[6,18]])}function H(e){var t,n,r,a,o,c,i;return R.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return a=function(e){return{type:k.UPLOAD_WEB_APP_FAILURE,error:e}},r=function(e){return{type:k.UPLOAD_WEB_APP_SUCCESS,payload:e}},n=function(){return{type:k.UPLOAD_WEB_APP_REQUEST}},t=e.obj,s.next=6,Object(w.c)(n());case 6:return s.prev=6,o={"Content-Type":"multipart/form-data"},s.next=10,Object(w.b)(T.post,Oe.files.uploadWebApp,t.data,o);case 10:return c=s.sent,s.next=13,Object(w.b)(x,c);case 13:return i=s.sent,console.log(i),s.next=17,Object(w.c)(r({data:i}));case 17:s.next=24;break;case 19:return s.prev=19,s.t0=s.catch(6),console.warn(s.t0.message),s.next=24,Object(w.c)(a(s.t0.message));case 24:case"end":return s.stop()}}),Y,null,[[6,19]])}function $(){var e,t,n,r,a,o,c;return R.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=function(e){return{type:k.DOWNLOAD_ANDROID_FAILURE,error:e}},t=function(e){return{type:k.DOWNLOAD_ANDROID_SUCCESS,payload:e}},e=function(){return{type:k.DOWNLOAD_ANDROID_REQUEST}},i.prev=3,i.next=6,Object(w.c)(e());case 6:return i.next=8,Object(w.b)(T.get,Oe.files.getAndroid,{responseType:"blob"});case 8:return r=i.sent,i.next=11,Object(w.b)(x,r);case 11:return a=i.sent,o=window.URL.createObjectURL(a),(c=document.createElement("a")).href=o,c.download="airasia.apk",c.click(),i.next=19,Object(w.c)(t("success"));case 19:i.next=25;break;case 21:return i.prev=21,i.t0=i.catch(3),i.next=25,Object(w.c)(n(i.t0.message));case 25:case"end":return i.stop()}}),z,null,[[3,21]])}function K(){var e,t,n,r,a,o,c;return R.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=function(e){return{type:k.DOWNLOAD_IOS_FAILURE,error:e}},t=function(e){return{type:k.DOWNLOAD_IOS_SUCCESS,payload:e}},e=function(){return{type:k.DOWNLOAD_IOS_REQUEST}},i.prev=3,i.next=6,Object(w.c)(e());case 6:return i.next=8,Object(w.b)(T.get,Oe.files.getIOS,{responseType:"blob"});case 8:return r=i.sent,i.next=11,Object(w.b)(x,r);case 11:return a=i.sent,o=window.URL.createObjectURL(a),(c=document.createElement("a")).href=o,c.download="manifest.plist",c.click(),i.next=19,Object(w.c)(t("success"));case 19:i.next=25;break;case 21:return i.prev=21,i.t0=i.catch(3),i.next=25,Object(w.c)(n(i.t0.message));case 25:case"end":return i.stop()}}),q,null,[[3,21]])}function V(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.d)(k.ASYNC_DOWNLOAD_ANDROID,$);case 2:return e.next=4,Object(w.d)(k.ASYNC_DOWNLOAD_IOS,K);case 4:return e.next=6,Object(w.d)(k.ASYNC_UPLOAD_IOS,M);case 6:return e.next=8,Object(w.d)(k.ASYNC_UPLOAD_ANDROID,G);case 8:return e.next=10,Object(w.d)(k.ASYNC_UPLOAD_WEB_APP,H);case 10:case"end":return e.stop()}}),J)}var X=R.a.mark(Z);function Z(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.a)([V()]);case 2:case"end":return e.stop()}}),X)}var ee={uploadFileAndroidError:!1,uploadFileAndroidSuccess:!1,uploadFileAndroidLoading:!1,uploadFileIOSError:!1,uploadFileIOSSuccess:!1,uploadFileIOSLoading:!1,uploadFileWebAppError:!1,uploadFileWebAppSuccess:!1,uploadFileWebAppLoading:!1,downloadAndroidError:!1,downloadAndroidLoading:!1,downloadAndroidSuccess:!1,downloadIOSError:!1,downloadIOSLoading:!1,downloadIOSSuccess:!1};var te=Object(g.c)({fileReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0,n=Object(A.a)({},e);return t.type===k.UPLOAD_ANDROID_SUCCESS&&(n.uploadFileAndroidError=!1,n.uploadFileAndroidLoading=!1,n.uploadFileAndroidSuccess=!0),t.type===k.UPLOAD_IOS_FAILURE&&(n.uploadFileAndroidError=t.error,n.uploadFileAndroidLoading=!1),t.type===k.UPLOAD_ANDROID_REQUEST&&(n.uploadFileAndroidError=!1,n.uploadFileAndroidLoading=!0,n.uploadFileAndroidSuccess=!1),t.type===k.UPLOAD_IOS_SUCCESS&&(n.uploadFileIOSError=!1,n.uploadFileIOSLoading=!1,n.uploadFileIOSSuccess=!0),t.type===k.UPLOAD_IOS_FAILURE&&(n.uploadFileIOSError=t.error,n.uploadFileIOSLoading=!1),t.type===k.UPLOAD_IOS_REQUEST&&(n.uploadFileIOSError=!1,n.uploadFileIOSLoading=!0,n.uploadFileIOSSuccess=!1),t.type===k.UPLOAD_WEB_APP_SUCCESS&&(n.uploadFileWebAppError=!1,n.uploadFileWebAppLoading=!1,n.uploadFileWebAppSuccess=!0),t.type===k.UPLOAD_WEB_APP_FAILURE&&(n.uploadFileWebAppError=t.error,n.uploadFileWebAppLoading=!1),t.type===k.UPLOAD_WEB_APP_REQUEST&&(n.uploadFileWebAppError=!1,n.uploadFileWebAppLoading=!0,n.uploadFileWebAppSuccess=!1),t.type===k.DOWNLOAD_ANDROID_SUCCESS&&(n.downloadAndroidError=!1,n.downloadAndroidLoading=!1,n.downloadAndroidSuccess=!0),t.type===k.DOWNLOAD_ANDROID_FAILURE&&(n.downloadAndroidError=t.error,n.downloadAndroidLoading=!1),t.type===k.DOWNLOAD_ANDROID_REQUEST&&(n.downloadAndroidError=!1,n.downloadAndroidLoading=!0),t.type===k.DOWNLOAD_IOS_SUCCESS&&(n.downloadIOSError=!1,n.downloadIOSLoading=!1,n.downloadIOSSuccess=!0),t.type===k.DOWNLOAD_IOS_FAILURE&&(n.downloadIOSError=t.error,n.downloadIOSLoading=!1),t.type===k.DOWNLOAD_IOS_REQUEST&&(n.downloadIOSError=!1,n.downloadIOSLoading=!0),t.type===k.RESET_DOCUMENT&&(n.uploadFileAndroidError=!1,n.uploadFileAndroidLoading=!1,n.uploadFileAndroidSuccess=!1,n.downloadIOSError=!1,n.downloadIOSLoading=!1,n.downloadIOSSuccess=!1,n.downloadAndroidError=!1,n.downloadAndroidLoading=!1,n.downloadAndroidSuccess=!1,n.uploadFileIOSError=!1,n.uploadFileIOSLoading=!1,n.uploadFileIOSSuccess=!1,n.uploadFileWebAppError=!1,n.uploadFileWebAppLoading=!1,n.uploadFileWebAppSuccess=!1),n}}),ne=Object(g.c)({routing:v.routerReducer,file:te}),re=function(e,t){return"LOGOUT"===t.type&&(e=void 0),ne(e,t)},ae=Object(h.a)(),oe=Object(g.e)(re,Object(g.a)(ae));ae.run(Z);var ce=Object(P.a)({basename:"/create-react-app-servlet"}),ie=Object(v.syncHistoryWithStore)(ce,oe),se=oe,de=n(558),ue=a.a.lazy((function(){return n.e(0).then(n.bind(null,585))})),le=a.a.lazy((function(){return Promise.all([n.e(4),n.e(5)]).then(n.bind(null,584))})),pe=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(s.a)(this,r);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={bgImg:n(552)},e}return Object(d.a)(r,[{key:"componentDidMount",value:function(){var e=this,t=new Image;t.src=n(553),t.onload=function(){e.setState({bgImg:t.src})}}},{key:"render",value:function(){return a.a.createElement(m,{locale:D},a.a.createElement(de.a,{id:"login"}),a.a.createElement("div",{className:"bg"},a.a.createElement("img",{src:this.state.bgImg})),a.a.createElement(p.c,{history:ie},a.a.createElement(a.a.Suspense,{fallback:a.a.createElement("div",{className:"animated fadeIn pt-3 text-center"},"Loading...")},a.a.createElement(p.d,null,a.a.createElement(p.b,{path:"/login",exact:!0,render:function(){return a.a.createElement(ue,null)}}),L.map((function(e){return a.a.createElement(U,e)})),a.a.createElement(p.b,{name:"Page 404",render:function(e){return a.a.createElement(le,e)}})))))}}]),r}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Oe=t.default=F;c.a.render(a.a.createElement(i.a,{store:se},a.a.createElement(pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[452,2,3]]]);
//# sourceMappingURL=main.094b4ff7.chunk.js.map